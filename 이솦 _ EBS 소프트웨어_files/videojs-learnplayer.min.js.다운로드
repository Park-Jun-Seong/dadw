!function(){"use strict";var e=null;e=void 0===window.videojs&&"function"==typeof require?require(VJS_MODULE||"video.min"):window.videojs,function(B,j){function d(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}var c=function(e){var t,n;n=void 0!==B.pageXOffset?(t=B.pageXOffset,B.pageYOffset):void 0!==B.scrollX?(t=B.scrollX,B.scrollY):document.documentElement&&void 0!==document.documentElement.scrollLeft?(t=document.documentElement.scrollLeft,document.documentElement.scrollTop):(t=document.body.scrollLeft,document.body.scrollTop),e.focus({preventScroll:!0}),j.browser.IE_VERSION&&void 0!==t&&B.scrollTo(t,n)},s="vjs-volume-settings";var u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},e=j.getComponent("Component"),n=j.getComponent("Button"),m=j.getComponent("Menu"),a=j.getComponent("MenuButton"),i=j.getComponent("MenuItem"),o=j.getComponent("ModalDialog"),r=j.getComponent("TextTrackDisplay"),l=j.getComponent("TextTrackMenuItem"),h=j.getComponent("PlaybackRateMenuButton"),y=j.getComponent("BigPlayButton"),f=j.getComponent("SeekBar"),v=function(e,t){var n=new B.WebVTT.Parser(B,B.vttjs,B.WebVTT.StringDecoder()),o=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){o.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<o.length&&(B.console&&B.console.groupCollapsed&&B.console.groupCollapsed("Text Track parsing errors for "+t.src),o.forEach(function(e){return j.log.error(e)}),B.console&&B.console.groupEnd&&B.console.groupEnd()),n.flush()},k=function(s){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,i);var t=e.src;delete e.src;var n=p(this,s.call(this,e));if(n.loaded_=!1,"chapters"===n.kind&&t&&Array.isArray(t)&&0<t.length){var o="WEBVTT";for(var r in t)o+="\n\n"+j.formatTime(t[r].startTime,3600)+".000 --\x3e "+j.formatTime(t[r].endTime,3600)+".000",o+="\n"+t[r].text;n.loaded_=!0,setTimeout(function(){v(o,n)},200)}else!function(e,u,p){var t={uri:e},n=j.isCrossOrigin(e);n&&(t.cors=n),j.xhr(t,j.bind(this,function(e,t,n){if(e)return j.log.error(e,t);if(p.loaded_=!0,"smi"===u){for(var o,r,s=n.split(/<sync /gi),i="WEBVTT",a=0;a<s.length;a++)0!=a&&(o=s[a].toLowerCase().split(">")[0].replace(/[^0-9]/gi,""),l=s[a].replace(/start=(\'?\"?)[0-9]{0,10}(\'?\"?)>|<(\/?)(p|body|sami)(.*?)>/gi,""),r=a<s.length-1?s[a+1].toLowerCase().split(">")[0].replace(/[^0-9]/gi,""):82800,i+="\n\n"+new Date(1*o).toISOString().slice(11,-1)+" --\x3e "+new Date(1*r).toISOString().slice(11,-1),i+="\n"+l);n=i}else if("srt"===u){var l;for((s=(n=n.replace(/\r/g,"")).split(/(\d+\n\d{2}:\d{2}:\d{2},\d{3} --> \d{2}:\d{2}:\d{2},\d{3})/g)).shift(),i="WEBVTT",a=0;a<s.length;a+=2)i+="\n\n"+s[a].split(/\n/g)[1].replace(",",".").replace(",","."),i+="\n"+(l=s[a+1].replace(/\n/g,""));n=i}if("function"!=typeof B.WebVTT){if(p.tech_){var c=function(){return v(n,p)};p.tech_.on("vttjsloaded",c),p.tech_.on("vttjserror",function(){j.log.error("vttjs failed to load, stopping trying to process "+p.src),p.tech_.off("vttjsloaded",c)})}}else v(n,p)}))}(n.src=t,e.class,n);return n}return t(i,s),i}(j.TextTrack),b=function(r){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,s);var t=p(this,r.call(this)),n=void 0,o=new k(e);return t.kind=o.kind,t.src=o.src,t.srclang=o.language,t.label=o.label,t.default=o.default,Object.defineProperties(t,{readyState:{get:function(){return n}},track:{get:function(){return o}}}),n=0,o.addEventListener("loadeddata",function(){n=2,t.trigger({type:"load",target:t})}),t}return t(s,r),s}(j.EventTarget);b.prototype.allowedEvents_={load:"load"},b.NONE=0,b.LOADING=1,b.LOADED=2,b.ERROR=3;var g=function(o){function r(s,e,t){u(this,r);var n=p(this,o.call(this,s,e,t));return s.ready(j.bind(n,function(){if(s.tech_&&s.tech_.featuresNativeTextTracks)this.hide();else{for(var e=this.options_.playerOptions.subtitles_||[],t=0;t<e.length;t++){var n=j.mergeOptions(e[t],{tech:s.tech_}),o=new b(n);this.player_.tech_.remoteTextTrackEls().addTrackElement_(o),this.player_.tech_.remoteTextTracks().addTrack(o.track),this.options_.playerOptions.tracks.push(n)}var r=this.options_.playerOptions.chapters_||[];for(t=0;t<r.length;t++){n=j.mergeOptions(r[t],{tech:s.tech_}),o=new b(n);this.player_.tech_.remoteTextTrackEls().addTrackElement_(o),this.player_.tech_.remoteTextTracks().addTrack(o.track),this.options_.playerOptions.tracks.push(n)}this.preselectTrack()}})),n}return t(r,o),r.prototype.preselectTrack=function(){for(var e=this.player_.textTracks(),t=void 0,n=void 0,o=e.length-1;0<=o;o--){var r=e[o];-1<["captions","subtitles"].indexOf(r.kind)&&(!t&&r.default&&(t=r),n||this.player_.language_!==r.language||(n=r))}for(o=e.length-1;0<=o;o--){r=e[o];if(-1<["captions","subtitles"].indexOf(r.kind)){if(t&&t===r){r.mode="showing",this.player_.cache_.trackIndex=o;break}if(!t&&n&&n===r){this.player_.cache_.trackIndex=o;break}this.player_.cache_.trackIndex=o}}},r}(r);e.registerComponent("TextTrackCustomDisplay",g);var _=function(o){function r(e,t){u(this,r);var n=p(this,o.call(this,e,t));return t.playerOptions.topbar.topbarText.isUse||n.hide(),n}return t(r,o),r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-topbar-text",dir:"ltr",innerHTML:"<span>"+this.options_.playerOptions.topbar.topbarText.title+"</span>"})},r}(e);e.registerComponent("TopbarText",_);var T=function(o){function r(e,t){u(this,r);var n=p(this,o.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Bookmark")),t.playerOptions.bookmarks.isUse||n.hide(),n}return t(r,o),r.prototype.buildCSSClass=function(){return"vjs-icon-book "+o.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){"Bookmark-menu"==this.player_.controlBar.SettingMenuButton.selectedMenuName?this.player_.controlBar.SettingMenuButton.unpressButton():(this.player_.controlBar.SettingMenuButton.selectedMenuName="Bookmark-menu",this.player_.controlBar.SettingMenuButton.pressButton())},r}(n);e.registerComponent("BookButton",T);var C=function(o){function r(e,t){u(this,r);var n=p(this,o.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("QNA")),t.playerOptions.topbar.qnaButton.isUse&&(t.playerOptions.topbar.qnaButton.href&&0!=t.playerOptions.topbar.qnaButton.href.length||"function"==typeof t.playerOptions.topbar.qnaButton.callback)?n.show():n.hide(),n}return t(r,o),r.prototype.buildCSSClass=function(){return"vjs-icon-qna "+o.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){this.options_.playerOptions.topbar.qnaButton.callback=j.bind(this,function(e){!0===this.options_.playerOptions.topbar.qnaButton.isPlayStop&&this.player().pause();if("function"==typeof this.options_.playerOptions.topbar.qnaButton.extraFunction)this.options_.playerOptions.topbar.qnaButton.extraFunction();else if(this.options_.playerOptions.topbar.qnaButton.href&&0!=this.options_.playerOptions.topbar.qnaButton.href.length){var t=j.parseUrl(this.options_.playerOptions.topbar.qnaButton.href);this.options_.playerOptions.topbar.qnaButton.target&&"_blank"==this.options_.playerOptions.topbar.qnaButton.target?B.open(t.protocol+"//"+t.host+t.pathname+t.search+t.hash):B.location.href=t.protocol+"//"+t.host+t.pathname+t.search+t.hash}}),this.options_.playerOptions.topbar.qnaButton.pauseOnOpen=!1,this.player().trigger("messageLayer",this.options_.playerOptions.topbar.qnaButton)},r}(n);e.registerComponent("QnaButton",C);var S=function(i){function a(e,t){u(this,a);var n=t.track,o=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.startTime=o.startTime,t.label=o.text,t.selected=o.startTime<=r&&r<o.endTime;var s=p(this,i.call(this,e,t));return s.track=n,s.cue=o,n.addEventListener("cuechange",j.bind(s,s.update)),s}return t(a,i),a.prototype.createEl=function(){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",{className:"vjs-menu-item",innerHTML:'<div><span class="vjs-menu-item-startTime">'+j.formatTime(this.options_.startTime,3600)+'</span><span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span></div>",tabIndex:-1})},a.prototype.handleClick=function(e){i.prototype.handleClick.call(this),this.update(this.cue.startTime),this.player_.currentTime(this.cue.startTime),this.player_.isBookmarkPlay&&this.player_.controlBar.SettingMenuButton.itemsMenu.getChildById(this.player_.bookmarkPlayId).handleClick()},a.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},a}(i);e.registerComponent("IndexTrackItem",S);var x=function(a){function l(e,t,n){u(this,l),t.pauseOnOpen=!1,t.temporary=!1;var o=p(this,a.call(this,e,t));j.dom.addClass(o.contentEl(),"vjs-cScrollbar"),j.dom.setAttribute(o.contentEl(),"tabindex",-1),o.on("mouseover",j.bind(o,function(){this.contentEl_.focus()}));var r=e.textTracks(),s=j.bind(o,o.updateTrack);if(r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),e.on("ready",s),e.on("dispose",function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)}),o.indexButton=n,o.hasBeenOpened_=o.hasBeenFilled_=!0,this.options_.playerOptions.topbar.topbarText.isUse){var i=j.dom.createEl("div",{className:"vjs-menu-title",innerHTML:this.options_.playerOptions.topbar.topbarText.title,tabIndex:-1});j.dom.prependTo(i,o.el())}return o.endDialog=j.dom.createEl("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o}return t(l,a),l.prototype.updateTrack=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack());var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.menuEl_=t.el_,this.fill(),this.buttonPressed_=!1,this.items&&this.items.length<=0?(t.hide(),this.indexButton.hide()):(t.show(),this.indexButton.show())},l.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.updateTrack.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},l.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if("chapters"===n.kind)return n}},l.prototype.createMenu=function(){var e=new m(this.player_);if(this.items=this.createItems(),this.items)for(var t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e},l.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,o=t.length;n<o;n++){var r=t[n],s=new S(this.player_,{track:this.track_,cue:r});e.push(s)}return e},l.prototype.open=function(){this.player_.topbarWrap.toggleClass("vjs-zeroOpacity"),this.player_.controlBar.playbackRateMenu1Button.unpressButton(),this.player_.controlBar.SettingMenuButton.unpressButton(),a.prototype.open.call(this),this.player_.controls(!0)},l.prototype.close=function(){this.player_.topbarWrap.toggleClass("vjs-zeroOpacity"),this.indexButton.unpressButton(),a.prototype.close.call(this)},l.prototype.dispose=function(){this.endDialog=null,a.prototype.dispose.call(this)},l.prototype.content=function(){return this.menuEl_},l.prototype.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-index-layer"},l.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(document,"keydown",this.handleKeyDown),this.player_.$(".vjs-icon-index").focus()},l}(o);e.registerComponent("IndexLayer",x);var O=function(o){function r(e,t){u(this,r);var n=p(this,o.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Index")),n.el_.setAttribute("aria-haspopup","true"),n.hide(),n.enabled_=!0,n.on("tap",n.handleClick),n.on("click",n.handleClick),n.on("focus",n.handleFocus),n.on("blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n.indexLayer=new x(e,t,n),e.addChild(n.indexLayer),n}return t(r,o),r.prototype.buildCSSClass=function(){return"vjs-icon-index "+o.prototype.buildCSSClass.call(this)},r.prototype.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},r.prototype.handleFocus=function(){this.on(document,"keydown",j.bind(this,this.handleKeyPress))},r.prototype.handleBlur=function(){this.off(document,"keydown",j.bind(this,this.handleKeyPress))},r.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},r.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.el_.focus()))},r.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,j.browser.IS_IOS&&j.dom.isInFrame())return;this.indexLayer.open()}},r.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"))},r.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled")},r.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled")},r}(n);e.registerComponent("IndexButton",O);var M=function(n){function o(e,t){return u(this,o),p(this,n.call(this,e,t))}return t(o,n),o.prototype.createEl=function(){var e=n.prototype.createEl.call(this,"div",{className:"vjs-topbar-wrap",dir:"ltr"}),t=this;return setTimeout(function(){t.player_.el_.insertBefore(e,t.player_.el_.getElementsByTagName("video")[0])},1),e},o.prototype.options_={children:["topbarText","bookButton","qnaButton","IndexButton"]},o}(e);e.registerComponent("TopbarWrap",M);var w=function(n){function o(e,t){return u(this,o),p(this,n.call(this,e,t))}return t(o,n),o.prototype.handleClick=function(e){this.player_.paused()?(this.controlText("Pause"),n.prototype.handleClick.call(this,e)):(this.player_.pause(),this.controlText("Play")),c(this.player_.el()),this.player().getChild("ResolutionOSDButton").hide()},o.prototype.controlText_="Pause",o}(y);e.registerComponent("BigPlay1Button",w);var E=function(i){function a(e,t){u(this,a);var n,o,r,s=p(this,i.call(this,e,t));return s.startTime=0,s.endTime=0,s.checkBookmarkArea=(n=j.bind(s,s.checkBookmarkArea),o=25,r=Date.now(),function(){var e=Date.now();o<=e-r&&(n.apply(void 0,arguments),r=e)}),s}return t(a,i),a.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-bookmark-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Bookmark progress")+'</span></span><div class="startBeforeBox"></div><div class="endAfterBox"></div>'})},a.prototype.show=function(e,t){var n=this.player_.duration(),o=function(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.$(".startBeforeBox").style.width=o(e,n),this.$(".endAfterBox").style.left=o(t,n),this.$(".endAfterBox").style.width=o(n-t,n),this.player_.addClass("vjs-bookmark-active"),this.startTime=e,this.endTime=t,this.player_.on("timeupdate",this.checkBookmarkArea)},a.prototype.hide=function(){this.player_.abLoopPlugin.disable(),this.player_.isBookmarkPlay=!1,this.player_.bookmarkPlayId="",this.player_.removeClass("vjs-bookmark-active"),this.player_.off("timeupdate",this.checkBookmarkArea)},a.prototype.checkBookmarkArea=function(){(this.startTime-.5>this.player_.currentTime()||this.player_.currentTime()>this.endTime+.5)&&this.player_.controlBar.SettingMenuButton.itemsMenu.getChildById(this.player_.bookmarkPlayId).handleClick()},a}(e);e.registerComponent("BookmarkProgressBar",E),f.prototype.options_.children.push("BookmarkProgressBar");var I=function(o){function r(e,t){u(this,r);var n=p(this,o.call(this,e,t));return e.on("updateSources",j.bind(this,this.createResolutionMenu)),n}return t(r,o),r.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-resolution-button"})},r.prototype.createResolutionMenu=function(){var e=new m(this.player());j.dom.addClass(e.contentEl().parentNode,"quality-menu"),this.sources=this.player_.getGroupedSrc();var t=this.sources&&this.sources.label||{};for(var n in t)t.hasOwnProperty(n)&&e.addChild(new $(this.player_,{label:n,src:t[n],selected:n===(!!this.currentSelection&&this.currentSelection.label)}));this.addChild(e)},r}(e);e.registerComponent("ResolutionOSDButton",I);var N=function(r){function s(e,t){u(this,s);var n=p(this,r.call(this,e,t));n.controlText(t&&t.controlText||n.localize("captions toggle")),n.selected=!1;var o=e.textTracks();return(n._tracks=o).addEventListener("removetrack",j.bind(n,n.updateTrack)),o.addEventListener("addtrack",j.bind(n,n.updateTrack)),e.on("ready",j.bind(n,n.updateTrack)),e.on("dispose",function(){o.removeEventListener("removetrack",j.bind(n,n.updateTrack)),o.removeEventListener("addtrack",j.bind(n,n.updateTrack))}),n}return t(s,r),s.prototype.updateTrack=function(e){this.selected=!1;for(var t=0;t<this._tracks.length;t++)if(this.player_.cache_.trackIndex==t&&"showing"==this._tracks[t].mode){this.selected=!0;break}this.selected?(this.addClass("vjs-selected"),this.player_.addClass("vjs-active-texttrack")):(this.removeClass("vjs-selected"),this.player_.removeClass("vjs-active-texttrack")),-1<this.player_.cache_.trackIndex?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},s.prototype.toggleCaptions=function(){for(var e=0;e<this._tracks.length;e++)if(-1<["captions","subtitles"].indexOf(this._tracks[e].kind))if(this.selected)this._tracks[e].mode="disabled";else if(this.player_.cache_.trackIndex==e){this._tracks[e].mode="showing";break}this.selected?(this.selected=!1,this.removeClass("vjs-selected"),this.player_.removeClass("vjs-active-texttrack")):(this.selected=!0,this.addClass("vjs-selected"),this.player_.addClass("vjs-active-texttrack"))},s.prototype.setSelected=function(){this.selected||(this.selected=!0,this.addClass("vjs-selected"))},s.prototype.buildCSSClass=function(){return"vjs-captions-button vjs-hidden "+r.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(e){this.toggleCaptions()},s}(n);e.registerComponent("CaptionsToggleButton",N);var L=function(n){function o(e,t){return u(this,o),p(this,n.call(this,e,t))}return t(o,n),o.prototype.handleClick=function(e){this.buttonPressed_?this.unpressButton():(this.player_.controlBar.SettingMenuButton.unpressButton(),this.player_.topbarWrap.IndexButton.indexLayer.hasClass("vjs-hidden")||this.player_.topbarWrap.IndexButton.indexLayer.close(),this.pressButton())},o}(h);e.registerComponent("PlaybackRateMenu1Button",L);var P=function(o){function r(e,t){u(this,r),t.selectable=!0;var n=p(this,o.call(this,e,t));return this.src=t.src,e.on("resolutionchange",j.bind(this,this.update)),n}return t(r,o),r.prototype.handleClick=function(e){i.prototype.handleClick.call(this,e),this.player_.currentResolution(this.options_.label)},r.prototype.update=function(){var e=this.player_.currentResolution();this.selected(this.options_.label===e.label)},r}(i);e.registerComponent("ResolutionMenuItem",P);var $=function(n){function o(e,t){return u(this,o),p(this,n.call(this,e,t))}return t(o,n),o.prototype.handleClick=function(e){n.prototype.handleClick.call(this,e),this.player().getChild("ResolutionOSDButton").hide(),this.player().play()},o}(P);e.registerComponent("ResolutionOSDMenuItem",$);var A=function(s){function i(e,t){u(this,i),this.label=document.createElement("span"),t.label="Quality";var n=p(this,s.call(this,e,t));this.el().setAttribute("aria-label","Quality"),this.controlText("Quality");var o=j.dom||j;if(t.dynamicLabel)o.addClass(this.label,"vjs-resolution-button-label"),this.el().appendChild(this.label);else{var r=document.createElement("span");o.addClass(r,"vjs-menu-icon"),this.el().appendChild(r)}return e.on("updateSources",j.bind(this,this.update)),n}return t(i,s),i.prototype.createItems=function(){var e=[],t=this.sources&&this.sources.label||{};for(var n in t)t.hasOwnProperty(n)&&e.push(new P(this.player_,{label:n,src:t[n],selected:n===(!!this.currentSelection&&this.currentSelection.label)}));return e},i.prototype.update=function(){return this.sources=this.player_.getGroupedSrc(),this.currentSelection=this.player_.currentResolution(),this.label.innerHTML=this.currentSelection?this.currentSelection.label:"",a.prototype.update.call(this)},i.prototype.buildCSSClass=function(){return"vjs-resolution-button "+a.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function(){return"vjs-resolution-button "+a.prototype.buildWrapperCSSClass.call(this)},i}(a);e.registerComponent("ResolutionMenuButton",A);var D=function(s){function i(e,t){u(this,i);var n=t.item;t.selectable=!0,t.label=n.text;var o=p(this,s.call(this,e,t));o.item=n,o.on(e,"bookmarkMenuItemChange",o.update);var r="click";return this.player_.options_.isMobile&&(r="touchend"),o.on(o.$(".vjs-bookmark-item-del"),r,j.bind(o,function(e){if(e.stopPropagation(),e.preventDefault(),e&&e.target.classList.contains("vjs-bookmark-item-del")){this.player_.trigger("bookmarkMenuItemChange",{id:this.player_.bookmarkPlayId});var t=this.player_.controlBar.SettingMenuButton.itemsMenu.getChildById(this.id()),n=this.player_.controlBar.SettingMenuButton.itemsMenu.children_.indexOf(t);return-1<n&&(this.player_.options_.bookmarks.items.splice(n,1),this.player_.controlBar.SettingMenuButton.itemsMenu.removeChild(this)),this.player_.isBookmarkPlay&&this.player_.bookmarkPlayId==this.id()&&(this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(null,j.formatTime(this.player_.currentTime(),3600),j.formatTime(this.player_.currentTime()+5,3600)),this.player_.controlBar.progressControl.seekBar.BookmarkProgressBar.hide()),void(this.player_.options_.bookmarks.extraFunctions.remove&&this.player_.options_.bookmarks.extraFunctions.remove(this.item,this.player_))}})),o}return t(i,s),i.prototype.createEl=function(e,t,n){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>";return o+='<button class="vjs-icon-delete_forever vjs-bookmark-item-del vjs-control vjs-button" type="button" title="삭제" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder vjs-bookmark-item-del"></span><span class="vjs-control-text" aria-live="polite">삭제</span></button>',s.prototype.createEl.call(this,e,{innerHTML:o},n)},i.prototype.handleClick=function(e){j.log("BookmarkMenuItem.prototype.handleClick"),this.player_.isBookmarkPlay&&this.player_.isBookmarkPlay&&this.player_.bookmarkPlayId==this.id()?(this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(null,j.formatTime(this.player_.currentTime(),3600),j.formatTime(this.player_.currentTime()+5,3600)),this.player_.controlBar.progressControl.seekBar.BookmarkProgressBar.hide()):(this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(this.item.text,j.formatTime(parseInt(this.item.startTime),3600),j.formatTime(parseInt(this.item.endTime),3600),"modify"),this.player_.abLoopPlugin.setStart(this.item.startTime).setEnd(this.item.endTime).enable(),this.player_.currentTime(this.item.startTime),this.player_.controlBar.progressControl.seekBar.BookmarkProgressBar.show(this.item.startTime,this.item.endTime),this.player_.isBookmarkPlay=!0,this.player_.bookmarkPlayId=this.id()),this.player_.trigger("bookmarkMenuItemChange",{id:this.player_.bookmarkPlayId})},i.prototype.update=function(e,t){this.selected(this.id()===t.id)},i.prototype.modifyEl=function(e){j.log("BookmarkMenuItem.prototype.modifyEl"),this.item=j.mergeOptions(this.item,e),j.dom.textContent(this.$(".vjs-menu-item-text"),e.text),this.player_.abLoopPlugin.disable(),this.player_.isBookmarkPlay=!1},i}(i);e.registerComponent("BookmarkMenuItem",D);var F=function(o){function n(e,t){return u(this,n),t.selectable=!0,p(this,o.call(this,e,t))}return t(n,o),n.prototype.handleClick=function(e){if(!this.isSelected_){this.player_.controlBar.captionsToggleButton.setSelected();var t=this.player_.textTracks();if(t){for(var n=0;n<t.length;n++){if(t[n]===this.track){this.player_.cache_.trackIndex=n;break}}o.prototype.handleClick.call(this,e)}}},n.prototype.handleTracksChange=function(e){var t=this.player_.textTracks();t&&this.selected(t[this.player_.cache_.trackIndex]===this.track)},n}(l);e.registerComponent("CaptionsMenuItem",F);var R=function(r){function n(e,t){return u(this,n),t.selectable=!1,p(this,r.call(this,e,t))}return t(n,r),n.prototype.createEl=function(e,t,n){this.nonIconControl=!0,this.tabIndex_=-1;var o=j.dom.createEl("li",{className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.labelObj.name)+'</span><span class="vjs-menu-item-text">'+this.localize(this.options_.labelObj.description)+"</span>",tabIndex:-1});return r.prototype.createControlTextEl.call(this,o),o},n.prototype.handleClick=function(e){},n}(i);e.registerComponent("HotkeysMenuItem",R);var q=function(n){function o(e,t){return u(this,o),t.selectable=!1,p(this,n.call(this,e,t))}return t(o,n),o.prototype.handleClick=function(e){},o}(i);e.registerComponent("InfoMenuItem",q);var H=function(o){function n(e,t){return u(this,n),p(this,o.call(this,e,t))}return t(n,o),n.prototype.createEl=function(e,t,n){return o.prototype.createEl.call(this,e,{className:"vjs-menu-item vjs-hidden "+this.options_.label.replace(" ","_"),innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>"},n)},n.prototype.handleClick=function(e){o.prototype.handleClick.call(this,e),this.options_.parentObj.selectedMenuName=this.options_.label.replace(" ","_")+"-menu",this.options_.parentObj.pressButton()},n}(i);e.registerComponent("SettingMenuItem",H);var K=function(e){function r(e,t){u(this,r),this.menuList={},this.selectedMenuName="basic-menu";var n=p(this,a.call(this,e,t));t.playerOptions.bookmarks.isUse&&n.createBookmarkMenu(),e.on("updateSources",j.bind(this,this.createResolutionMenu));var o=e.textTracks();return o.addEventListener("removetrack",j.bind(n,n.createCaptionsMenu)),o.addEventListener("addtrack",j.bind(n,n.createCaptionsMenu)),e.on("ready",j.bind(n,n.createCaptionsMenu)),e.on("dispose",function(){o.removeEventListener("removetrack",j.bind(n,n.createCaptionsMenu)),o.removeEventListener("addtrack",j.bind(n,n.createCaptionsMenu))}),t.playerOptions.isMobile||n.createHotkeysMenu(),n.createInfoMenu(),n}return t(r,a),r.prototype.createMenu=function(){var e=["Bookmark","Quality","Captions Language","Hotkeys","Info"],t=new m(this.player_,{menuButton:this});t.addClass("basic-menu");for(var n=0,o=e.length;n<o;n++)t.addChild(new H(this.player_,{label:e[n],parentObj:this}));return this.menuList["basic-menu"]=t},r.prototype.setBookmarkMenuForm=function(e,t,n,o){if(null==e){var r=0;this.player_.options_.bookmarks&&this.player_.options_.bookmarks.items&&Array.isArray(this.player_.options_.bookmarks.items)&&(r=this.player_.options_.bookmarks.items.length),e="북마크 "+(r+1)}if(this.$(".vjs-bookmark-form-name").value=e,null!=t){var s=7==t.length?"0"+t:t;this.$(".vjs-bookmark-form-startTime").value=s.replace(":","시").replace(":","분")+"초",this.$(".vjs-bookmark-form-startTime").setAttribute("data-value",s.replace(/:/gi,""))}if(null!=n){var i=7==n.length?"0"+n:n;this.$(".vjs-bookmark-form-endTime").value=i.replace(":","시").replace(":","분")+"초",this.$(".vjs-bookmark-form-endTime").setAttribute("data-value",i.replace(/:/gi,""))}j.dom.removeClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-add"),j.dom.removeClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-modify"),this.$(".vjs-icon-complete").innerText=null==o||"add"===o?(j.dom.addClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-add"),"저장"):(j.dom.addClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-modify"),"수정")},r.prototype.createBookmarkMenu=function(){var v=new m(this.player());v.off("keydown"),v.addClass("bookmark-menu");var i=new m(this.player());i.off("keydown"),i.addClass("vjs-cScrollbar"),i.setAttribute("tabindex",-1),i.on("mouseover",j.bind(i,function(){this.el_.focus()})),i.lockShowing();for(var e=0,t=this.player_.options_.bookmarks.items.length;e<t;e++)i.addChild(new D(this.player_,{item:this.player_.options_.bookmarks.items[e]}));var n=j.dom.createEl("li",{append:i.el(),className:"vjs-menu-items-wrap"});n.appendChild(i.el()),v.children_.unshift(n),j.dom.prependTo(n,v.contentEl()),this.itemsMenu=i;var o=j.dom.createEl("li",{className:"vjs-bookmark-form",innerHTML:'<div class="box1"><input class="vjs-bookmark-form-name" tabIndex="-1"/></div><div class="box2"><input class="vjs-bookmark-form-startTime" maxlength="6" data-value="000000" value="00시00분00초"/><button class="vjs-icon-edit_location vjs-bookmark-form-locationStart vjs-control vjs-button" type="button" title="북마크 시작위치 입력" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder vjs-bookmark-form-locationStart"></span><span class="vjs-control-text" aria-live="polite">북마크 시작위치 입력/span></button><span class="divider">~</span><input class="vjs-bookmark-form-endTime" maxlength="6" data-value="000000" value="00시00분00초"/><button class="vjs-icon-edit_location vjs-bookmark-form-locationEnd vjs-control vjs-button" type="button" title="북마크 종료위치 입력" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder vjs-bookmark-form-locationEnd"></span><span class="vjs-control-text" aria-live="polite">북마크 종료위치 입력/span></button><span class="vjs-icon-complete vjs-bookmark-form-add">등록</span></div><div class="box3">※ 숫자만 입력해 주세요.</div>'});v.children_.unshift(o),j.dom.prependTo(o,v.contentEl());var r,a=j.bind(this,function(e,t){var n,o,r,s,i,a,l={result:!1,item:{}},c=v.$(".vjs-bookmark-form-name").value,u=v.$(".vjs-bookmark-form-startTime").value||"000000",p=v.$(".vjs-bookmark-form-endTime").value||"000000",h=v.$(".vjs-bookmark-form-startTime").getAttribute("data-value")||"000000",d=v.$(".vjs-bookmark-form-endTime").getAttribute("data-value")||"000000";"all"===t&&(u=h,p=d),n=o=r=0,s=i=a=0;var m=!0;if(6<p.length||p.length<=0||/[^0-9]/g.test(p))m=!1;else{for(;p.length<6;)p="0"+p;s=Number(p.substr(0,2)||"00"),i=Number(p.substr(2,2)||"00"),a=Number(p.substr(4,2)||"00")}(!m||isNaN(s)||isNaN(i)||isNaN(a))&&(m=!1),(!m||s<0||i<0||a<0||60<i||60<a)&&(m=!1);var y=3600*s+60*i+a;if((!m||y<0||this.player().duration()&&y>this.player().duration())&&(m=!1),!m)return this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"종료시간 값을 확인해 주세요.",callback:j.bind(v,function(e){this.$(".vjs-bookmark-form-endTime").focus()})}),this.$(".vjs-bookmark-form-endTime").value=d.substr(0,2)+"시"+d.substr(2,2)+"분"+d.substr(4,2)+"초",this.$(".vjs-bookmark-form-endTime").setAttribute("data-value",d),l;if(this.$(".vjs-bookmark-form-endTime").value=p.substr(0,2)+"시"+p.substr(2,2)+"분"+p.substr(4,2)+"초",this.$(".vjs-bookmark-form-endTime").setAttribute("data-value",p),m=!0,6<u.length||u.length<=0||/[^0-9]/g.test(u))m=!1;else{for(;u.length<6;)u="0"+u;n=Number(u.substr(0,2)||"00"),o=Number(u.substr(2,2)||"00"),r=Number(u.substr(4,2)||"00")}(!m||isNaN(n)||isNaN(o)||isNaN(r))&&(m=!1),(!m||n<0||o<0||a<0||60<o||60<r)&&(m=!1);var f=3600*n+60*o+r;return(!m||f<0||this.player().duration()&&f>this.player().duration())&&(m=!1),m?(this.$(".vjs-bookmark-form-startTime").value=u.substr(0,2)+"시"+u.substr(2,2)+"분"+u.substr(4,2)+"초",this.$(".vjs-bookmark-form-startTime").setAttribute("data-value",u),y<f+5?this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"시작과 종료시간 간격을 5초 이상 지정하세요."}):c.trim().length<1?this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"북마크명을 입력해 주세요.",callback:j.bind(v,function(e){this.$(".vjs-bookmark-form-name").value="북마크 ",this.$(".vjs-bookmark-form-name").focus()})}):20<c.length?this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"북마크명은 최대 20자 입니다.",callback:j.bind(v,function(e){this.$(".vjs-bookmark-form-name").value=this.$(".vjs-bookmark-form-name").value.substr(0,20),this.$(".vjs-bookmark-form-name").focus()})}):(l.result=!0,l.item={startTime:f,endTime:y,text:c}),l):(this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"시작시간 값을 확인해 주세요.",callback:j.bind(v,function(e){this.$(".vjs-bookmark-form-startTime").focus()})}),this.$(".vjs-bookmark-form-startTime").value=h.substr(0,2)+"시"+h.substr(2,2)+"분"+h.substr(4,2)+"초",this.$(".vjs-bookmark-form-startTime").setAttribute("data-value",h),l)}),s=j.bind(this,function(e){var n,t=a(e,"all");if(!0===t.result){var o;n=t.item;var r=j.bind(this,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.player_.controlBar.SettingMenuButton.itemsMenu.children_.indexOf(o);-1<t&&(this.player_.options_.bookmarks.items.splice(t,1,j.mergeOptions(this.player_.options_.bookmarks.items[t],e)),o.modifyEl(n))});if(e.target.classList.contains("vjs-bookmark-form-add")){this.player_.options_.bookmarks.items.push(n);(o=i.addChild(new D(this.player_,{item:n}))).focus(),this.player_.isBookmarkPlay||this.setBookmarkMenuForm(null,j.formatTime(this.player().currentTime(),3600),j.formatTime(this.player().currentTime()+5,3600)),this.player_.options_.bookmarks.extraFunctions.add&&this.player_.options_.bookmarks.extraFunctions.add(n,this.player_,r)}else{o=this.player_.controlBar.SettingMenuButton.itemsMenu.getChildById(this.player_.bookmarkPlayId);var s=this.player_.controlBar.SettingMenuButton.itemsMenu.children_.indexOf(o);-1<s&&(this.player_.options_.bookmarks.items.splice(s,1,j.mergeOptions(this.player_.options_.bookmarks.items[s],n)),o.modifyEl(n),o.handleClick()),this.player_.options_.bookmarks.extraFunctions.modify&&this.player_.options_.bookmarks.extraFunctions.modify(o.item,this.player_,r)}}});this.on(v.$(".vjs-icon-complete"),"click",s);var l=function(e){e.target.value=Number(e.target.getAttribute("data-value")||"000000"),r=setTimeout(function(){v.$(".vjs-bookmark-form-name").focus()},1e4)},c=function(e){clearTimeout(r),r=setTimeout(function(){v.$(".vjs-bookmark-form-name").focus()},1e4)},u=function(e){clearTimeout(r),e.target.classList.contains("vjs-bookmark-form-startTime")?v.$(".vjs-bookmark-form-endTime").value=Number(v.$(".vjs-bookmark-form-endTime").getAttribute("data-value")||"000000"):v.$(".vjs-bookmark-form-startTime").value=Number(v.$(".vjs-bookmark-form-startTime").getAttribute("data-value")||"000000"),a(e)};this.on(v.$(".vjs-bookmark-form-startTime"),"focus",l),this.on(v.$(".vjs-bookmark-form-startTime"),"keydown",c),this.on(v.$(".vjs-bookmark-form-startTime"),"blur",u),this.on(v.$(".vjs-bookmark-form-endTime"),"focus",l),this.on(v.$(".vjs-bookmark-form-endTime"),"keydown",c),this.on(v.$(".vjs-bookmark-form-endTime"),"blur",u);var p=function(e){var t="add";j.dom.hasClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-modify")&&(t="modify");var n=v.$(".vjs-bookmark-form-name").value;e.target.classList.contains("vjs-bookmark-form-locationStart")?this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(n,j.formatTime(this.player().currentTime(),3600),null,t):this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(n,null,j.formatTime(this.player().currentTime(),3600),t)};this.on(v.$(".vjs-icon-edit_location.vjs-bookmark-form-locationStart"),"click",p),this.on(v.$(".vjs-icon-edit_location.vjs-bookmark-form-locationEnd"),"click",p);var h=j.dom.createEl("li",{className:"vjs-menu-title",innerHTML:d(this.localize("Bookmark")),tabIndex:-1});this.on(h,"click",j.bind(this,function(e){this.selectedMenuName="basic-menu",this.pressButton()})),v.children_.unshift(h),j.dom.prependTo(h,v.contentEl()),this.addChild(v),j.dom.removeClass(this.menu.$(".Bookmark"),"vjs-hidden"),this.menuList["Bookmark-menu"]=v},r.prototype.createResolutionMenu=function(){var e=new m(this.player());j.dom.addClass(e.contentEl().parentNode,"quality-menu");var t=j.dom.createEl("li",{className:"vjs-menu-title",innerHTML:d(this.localize("Quality")),tabIndex:-1});this.on(t,"click",j.bind(this,function(e){this.selectedMenuName="basic-menu",this.pressButton()})),e.children_.unshift(t),j.dom.prependTo(t,e.contentEl()),this.sources=this.player_.getGroupedSrc();var n=this.sources&&this.sources.label||{};for(var o in n)n.hasOwnProperty(o)&&e.addChild(new P(this.player_,{label:o,src:n[o],selected:o===(!!this.currentSelection&&this.currentSelection.label),parentObj:this}));this.addChild(e),0<Object.keys(n).length?j.dom.removeClass(this.menu.$(".Quality"),"vjs-hidden"):j.dom.addClass(this.menu.$(".Quality"),"vjs-hidden"),this.menuList["Quality-menu"]=e},r.prototype.createCaptionsMenu=function(){var e=new m(this.player());this.captionsMenu&&(this.captionsMenu.dispose(),this.removeChild(this.captionsMenu)),j.dom.addClass(e.contentEl().parentNode,"captions-menu");var t=j.dom.createEl("li",{className:"vjs-menu-title",innerHTML:d(this.localize("Captions Language")),tabIndex:-1});this.on(t,"click",j.bind(this,function(e){this.selectedMenuName="basic-menu",this.pressButton()})),e.children_.unshift(t),j.dom.prependTo(t,e.contentEl());for(var n=this.player_.textTracks(),o=0,r=0;r<n.length;r++){var s=n[r];if(-1<["captions","subtitles"].indexOf(s.kind)&&(!s.cues||0!=s.cues.length)){o++;var i=new F(this.player_,{track:s,parentObj:this});i.addClass("vjs-"+s.kind+"-menu-item"),e.addChild(i)}}this.captionsMenu=e,this.addChild(e),0<o?j.dom.removeClass(this.menu.$(".Captions_Language"),"vjs-hidden"):j.dom.addClass(this.menu.$(".Captions_Language"),"vjs-hidden"),this.menuList["Captions_Language-menu"]=e},r.prototype.createHotkeysMenu=function(){var e=[{name:"Space Bar",description:"재생 / 일시정지"},{name:"Enter | F",description:"전체화면 / 일반화면"},{name:"Esc",description:"전체화면 해제"},{name:"M",description:"음소거 / 음소거 해제"},{name:"B",description:"북마크"},{name:"C",description:"자막 노출 / 자막 숨김"},{name:"&#8593;",description:"볼륨 증가"},{name:"&#8595;",description:"볼륨 감소"},{name:"&#8592;",description:"구간 이동(-5초)"},{name:"&#8594;",description:"구간 이동(+5초)"},{name:"\t&#60;",description:"배속 감소"},{name:"&#62;",description:"배속 증가"}];if(!this.player_.options_.bookmarks.isUse){var n=0;e.forEach(function(e,t){"B"===e.name&&(n=t)}),e.splice(n,1)}var t=new m(this.player());j.dom.addClass(t.contentEl().parentNode,"hotkeys-menu");var o=j.dom.createEl("li",{className:"vjs-menu-title",innerHTML:d(this.localize("Hotkeys")),tabIndex:-1});this.on(o,"click",j.bind(this,function(e){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(o),j.dom.prependTo(o,t.contentEl());for(var r=0,s=e.length;r<s;r++)if(t.addChild(new R(this.player_,{label:"Hotkeys",labelObj:e[r],parentObj:this})),j.browser.IE_VERSION&&"전체화면 / 일반화면"==e[r].description){var i=j.dom.createEl("li",{className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text" style="font-size: 0.6em; word-break: keep-all;">* 전체화면 단축키는 익스플로러에서 적용되지 않습니다.</span>',tabIndex:-1});i.style.padding="0px 4px 0px 14px",t.children_.push(i),j.dom.appendContent(t.contentEl(),i)}this.addChild(t),j.dom.removeClass(this.menu.$(".Hotkeys"),"vjs-hidden"),this.menuList["Hotkeys-menu"]=t},r.prototype.createInfoMenu=function(){var e=new m(this.player());j.dom.addClass(e.contentEl().parentNode,"info-menu");var t=j.dom.createEl("li",{className:"vjs-menu-title",innerHTML:d(this.localize("Info")),tabIndex:-1});this.on(t,"click",j.bind(this,function(e){this.selectedMenuName="basic-menu",this.pressButton()})),e.children_.unshift(t),j.dom.prependTo(t,e.contentEl());var n=this.options_.playerOptions.playerInfo.innerHtml||"HTML5Player by Sharemind";!0===this.options_.playerOptions.playerInfo.isIncludeVersion&&(n+=" v"+te.VERSION);var o=new q(this.player_,{label:n,parentObj:this});e.addChild(o),this.addChild(e),j.dom.removeClass(this.menu.$(".Info"),"vjs-hidden"),this.menuList["Info-menu"]=e},r.prototype.handleClick=function(e){e.preventDefault(),this.buttonPressed_?this.unpressButton():this.pressButton()},r.prototype.pressButton=function(){if(this.enabled_){if(this.player_.controlBar.playbackRateMenu1Button.unpressButton(),this.player_.topbarWrap.IndexButton.indexLayer.hasClass("vjs-hidden")||this.player_.topbarWrap.IndexButton.indexLayer.close(),this.buttonPressed_=!0,this.menuButton_.el_.setAttribute("aria-expanded","true"),j.browser.IS_IOS&&j.dom.isInFrame())return;var n=this.menuList,o=this.selectedMenuName;Object.keys(n).forEach(function(e){var t=n[e];o===e?t.lockShowing():t.unlockShowing()}),c(this.player_.el()),"Bookmark-menu"===o?(this.player_.addClass("vjs-active-bookmark"),this.player_.isBookmarkPlay||this.setBookmarkMenuForm(null,j.formatTime(this.player().currentTime(),3600),j.formatTime(this.player().currentTime()+5,3600))):this.player_.removeClass("vjs-active-bookmark")}},r.prototype.unpressButton=function(){if(this.enabled_){this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false");var t=this.menuList;this.selectedMenuName="basic-menu",Object.keys(t).forEach(function(e){t[e].unlockShowing()}),this.player_.removeClass("vjs-active-bookmark")}},r.prototype.buildCSSClass=function(){return"vjs-icon-cog vjs-setting "+e.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function(){return"vjs-icon-cog vjs-setting "+e.prototype.buildWrapperCSSClass.call(this)},r.prototype.controlText_="Setting",r}(a);e.registerComponent("SettingMenuButton",K);var z=function(o){function r(e,t){u(this,r),this.messageOptions={},t.temporary=!1,t.uncloseable=!0,t.fillAlways=!0;var n=p(this,o.call(this,e,t));return n.on(e,"messageLayer",n.openWithOption),n}return t(r,o),r.prototype.openWithOption=function(e,t){this.messageOptions={},t&&(this.options_.pauseOnOpen=t.pauseOnOpen,this.messageOptions=t,this.open())},r.prototype.buildCSSClass=function(){return"vjs-message-display "+o.prototype.buildCSSClass.call(this)},r.prototype.content=function(){var e=j.dom.createEl("div",{className:"vjs-modal-dialog-box"}),t=j.dom.createEl("div",{className:"vjs-modal-dialog-title",innerHTML:this.messageOptions.title||"알림"});if(j.dom.appendContent(e,t),this.messageOptions.message&&0!=this.messageOptions.message.length){var n=j.dom.createEl("div",{className:"vjs-modal-dialog-message",innerHTML:this.messageOptions.message});j.dom.appendContent(e,n)}if(this.messageOptions.info&&0!=this.messageOptions.info.length){var o=j.dom.createEl("div",{className:"vjs-modal-dialog-info",innerHTML:this.messageOptions.info});j.dom.appendContent(e,o)}var r=j.dom.createEl("div",{className:"vjs-modal-dialog-buttonWrap"}),s=j.dom.createEl("button",{className:"vjs-modal-dialog-btn_ok",textContent:"확인"});if(j.dom.appendContent(r,s),this.on(s,"click",j.bind(this,function(e){if("function"==typeof this.messageOptions.callback){var t=this;setTimeout(function(){t.messageOptions.callback()},100)}this.close()})),this.messageOptions.messageType&&"confirm"==this.messageOptions.messageType){var i=j.dom.createEl("button",{className:"vjs-modal-dialog-btn_cancel",textContent:"취소"});j.dom.appendContent(r,i),this.on(i,"click",j.bind(this,function(e){if("function"==typeof this.messageOptions.callbackCancel){var t=this;setTimeout(function(){t.messageOptions.callbackCancel()},100)}this.close()}))}return j.dom.appendContent(e,r),e},r}(o);e.registerComponent("MessageLayer",z);var W=function(o){function r(e,t){u(this,r);var n=p(this,o.call(this,e,t));return n.seekSeconds=t.seekSeconds,n.tapTimeout=t.tapTimeout,n.addChild("playToggle",{}),e.on(["playing","userinactive"],function(e){}),0===n.player_.options_.inactivityTimeout&&(n.player_.options_.inactivityTimeout=5e3),n.enable(),n}return t(r,o),r.prototype.createEl=function(){return j.dom.createEl("div",{className:"vjs-touch-overlay",tabIndex:-1})},r.prototype.handleTap=function(e){var t=this;e.target===this.el_&&(this.firstTapCaptured?(this.firstTapCaptured=!1,this.timeout&&B.clearTimeout(this.timeout),this.handleDoubleTap(e)):(this.firstTapCaptured=!0,this.timeout=B.setTimeout(function(){t.firstTapCaptured=!1,t.handleSingleTap(e)},this.tapTimeout)))},r.prototype.handleSingleTap=function(e){this.player_.tech_.trigger("tap"),this.removeClass("skip")},r.prototype.handleDoubleTap=function(e){var t=this,n=this.el_.getBoundingClientRect(),o=e.changedTouches[0].clientX-n.left;if(o<.4*n.width)this.player_.currentTime(Math.max(0,this.player_.currentTime()-this.seekSeconds)),this.addClass("reverse");else{if(!(o>n.width-.4*n.width))return;this.player_.currentTime(Math.min(this.player_.duration(),this.player_.currentTime()+this.seekSeconds)),this.removeClass("reverse")}this.removeClass("skip"),B.requestAnimationFrame(function(){t.addClass("skip")})},r.prototype.enable=function(){this.firstTapCaptured=!1,this.on("touchend",this.handleTap)},r.prototype.disable=function(){this.off("touchend",this.handleTap)},r}(e);e.registerComponent("TouchOverlay",W);var U=function(e){var a,l,c=e,u=0,i=0,p=0,h=function(e){var t=p,n=Math.floor(t),o=Math.floor(i),r=t-i;if(!(r<=0)&&(u+=r,i=t,n-o!=0))for(var s=o;s<=n;s++){null==a[s]?a[s]={second:s,count:1}:a[s].count++}};return{setFirstPlaying:function(){l=Date.now(),a=new Array(Math.floor(c.duration()))},setPlay:function(){i=p=c.currentTime()},setTimeupdate:function(){var e=c.currentTime();.3<Math.abs(e-p)||(p=e)},setStop:h,getTimeInfo:function(){c.paused()||h();for(var e,t,n=Math.floor((Date.now()-l)/1e3),o=c.duration(),r=c.played(),s=0,i=0;i<r.length;i++)e=r.start(i),o<(t=r.end(i))&&(t=o),s+=t-e;if(Array.isArray(a))for(i=0;i<a.length;i++)null==a[i]&&(a[i]={second:i,count:0});return{stayedTime:n||0,actedPlayedTime:u,playedTime:s,durationTime:o,lastTimePosition:c.currentTime(),secondStatsArray:a||[]}}}},V=function(e){1<e.sources.length&&this.updateSrc(e.sources)},Q=function(i){var a=i.options_.resolution;function n(e,t){return e.res&&t.res?(isNaN(e.res)&&"HD"===e.res?e.res=1080:isNaN(e.res)&&"SD"===e.res?e.res=480:isNaN(e.res)&&"LD"===e.res&&(e.res=240),isNaN(t.res)&&"HD"===t.res?t.res=1080:isNaN(t.res)&&"SD"===t.res?t.res=480:isNaN(t.res)&&"LD"===t.res&&(t.res=240),+t.res-+e.res):0}function l(e){var t={label:{},res:{},type:{}};return e.map(function(e){o(t,"label",e),o(t,"res",e),o(t,"type",e),r(t,"label",e),r(t,"res",e),r(t,"type",e)}),t}function o(e,t,n){null==e[t][n[t]]&&(e[t][n[t]]=[])}function r(e,t,n){e[t][n[t]].push(n)}i.updateSrc=function(e){if(!e)return i.src();e=e.filter(function(e){try{return""!==i.canPlayType(e.type)}catch(e){return!0}}),this.currentSources=e.sort(n),this.groupedSrc=l(this.currentSources);var t=function(e,t){var n=a.default,o="";"high"===n?(n=t[0].res,o=t[0].label):"low"!==n&&null!=n&&e.res[n]?e.res[n]&&(o=e.res[n][0].label):(n=t[t.length-1].res,o=t[t.length-1].label);return{res:n,label:o,sources:e.res[n]}}(this.groupedSrc,this.currentSources);return this.currentResolutionState={label:t.label,sources:t.sources},i.trigger("updateSources"),i.setSourcesSanitized(t.sources,t.label),i.trigger("resolutionchange"),i},i.currentResolution=function(e,t){if(null==e)return this.currentResolutionState;if(e==this.currentResolutionState.label)return this.currentResolutionState;if(this.groupedSrc&&this.groupedSrc.label&&this.groupedSrc.label[e]){var n=this.groupedSrc.label[e],o=i.currentTime(),r=i.paused();this.player_.addClass("vjs-waiting"),r||(this.player_.bigPlay1Button&&this.player_.bigPlay1Button.hide(),this.player_.posterImage&&this.player_.posterImage.hide());var s="loadeddata";return"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(s="timeupdate"),i.setSourcesSanitized(n,e,t||a.customSourcePicker).one(s,function(){i.currentTime(o),i.handleTechSeeked_(),r||(i.play(),i.handleTechSeeked_(),this.player_.bigPlay1Button&&this.player_.bigPlay1Button.show(),this.player_.posterImage&&this.player_.posterImage.show()),i.trigger("resolutionchange")}),i}},i.getGroupedSrc=function(){return this.groupedSrc},i.setSourcesSanitized=function(e,t,n){return this.currentResolutionState={label:t,sources:e},"function"==typeof n?n(i,e,t):(i.src(e.map(function(e){return{src:e.src,type:e.type,res:e.res}})),i)},i.ready(function(){if(a.ui){var e=new A(i,a);i.controlBar.resolutionSwitcher=i.controlBar.el_.insertBefore(e.el_,i.controlBar.getChild("fullscreenToggle").el_),i.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)}}var o,r,s;1<i.options_.sources.length&&i.updateSrc(i.options_.sources),"Youtube"===i.techName_&&(o=i,r={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"auto"}},s=function(e,t,n){return o.tech_.ytPlayer.setPlaybackQuality(t[0]._yt),o.trigger("updateSources"),o},a.customSourcePicker=s,o.tech_.ytPlayer.setPlaybackQuality("auto"),o.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(e){for(var t in r)if(t.yt===e.data)return void o.currentResolution(t.label,s)}),o.one("play",function(){var e=o.tech_.ytPlayer.getAvailableQualityLevels(),t=[];e.map(function(e){t.push({src:o.src().src,type:o.src().type,label:r[e].label,res:r[e].res,_yt:r[e].yt})}),o.groupedSrc=l(t);var n={label:"auto",res:0,sources:o.groupedSrc.label.auto};this.currentResolutionState={label:n.label,sources:n.sources},o.trigger("updateSources"),o.setSourcesSanitized(n.sources,n.label,s)}))})},X="vjs-contextmenu";function Y(e,t){if(e.options_.contextmenu.disabled)return e;var n={target:e,type:X};return["clientX","clientY","pageX","pageY","screenX","screenY"].forEach(function(e){n[e]=t[e]}),e.trigger(n)}function G(e){var t=this.options_.contextmenu.current;if(t){var n=this.options_.contextmenu.wait;"touchend"===e.type&&Number(new Date)-t.time>=n&&Y(this,e),this.options_.contextmenu.current=null}}function J(e){var t=this.options_.contextmenu.current;if(t){var n=e.touches[0],o=this.options_.contextmenu.sensitivity;(n.screenX-t.screenX>o||n.screenY-t.screenY>o)&&(this.options_.contextmenu.current=null)}}function Z(e){if(!this.options_.contextmenu.current){var t=e.touches[0];this.options_.contextmenu.current={screenX:t.screenX,screenY:t.screenY,time:Number(new Date)}}}function ee(e){this.options_.contextmenu.cancel&&!this.options_.contextmenu.disabled&&e.preventDefault(),Y(this,e),this.off(["touchcancel","touchend"],G),this.off("touchmove",J),this.off("touchstart",Z)}var te=function(n){var e,t;!function(p,h){var d=p.el(),m=document,e={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!0,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which||13===e.which},customKeys:{sppedDown:a({key:188,handler:l(-1)}),speedUp:a({key:190,handler:l(1)}),toggleCaptionButton:a({key:67,handler:function(e){e.controlBar.captionsToggleButton.handleClick()}}),settingsBookmarkToggle:a({key:66,handler:function(e){if(!e.options_.bookmarks.isUse)return!1;"Bookmark-menu"==e.controlBar.SettingMenuButton.selectedMenuName?e.controlBar.SettingMenuButton.unpressButton():(e.controlBar.SettingMenuButton.selectedMenuName="Bookmark-menu",e.controlBar.SettingMenuButton.pressButton())}})}},t=j.mergeOptions||j.util.mergeOptions,y=(h=t(e,h||{})).volumeStep,n=h.seekStep,f=h.enableMute,o=h.enableVolumeScroll,v=h.enableFullscreen,k=h.enableNumbers,b=h.enableJogStyle,g=h.alwaysCaptureHotkeys,_=h.enableModifiersForNumbers,r=h.enableInactiveFocus,s=h.skipInitialFocus;d.hasAttribute("tabIndex")||d.setAttribute("tabIndex","-1"),d.style.outline="none",!g&&p.autoplay()||s||p.one("play",function(){d.focus()}),r&&p.on("userinactive",function(){var t=function(){clearTimeout(e)},e=setTimeout(function(){p.off("useractive",t);var e=m.activeElement;d.querySelector(".vjs-control-bar"),"INPUT"!=e.tagName&&c(d)},10);p.one("useractive",t)}),p.on("play",function(){var e=d.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var i=function(e){if(p.controls()){var t=m.activeElement;if((g&&!t.classList.contains("vjs-cScrollbar")||t==d||t==d.querySelector(".vjs-tech")||t==d.querySelector(".iframeblocker")||t==d.querySelector(".vjs-control-bar"))&&o){e=B.event||e;var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==n?p.volume(p.volume()+y):-1==n&&p.volume(p.volume()-y)}}},T=function(e,t){return h.playPauseKey(e,t)?1:h.rewindKey(e,t)?2:h.forwardKey(e,t)?3:h.volumeUpKey(e,t)?4:h.volumeDownKey(e,t)?5:h.muteKey(e,t)?6:h.fullscreenKey(e,t)?7:void 0};function C(e){return"function"==typeof n?n(e):n}function a(t){return t.modifiers=t.modifiers||{},{key:function(e){return e.which===t.key&&!!t.modifiers.ctrl==!!e.ctrlKey&&!!t.modifiers.shift==!!e.shiftKey&&!!t.modifiers.alt==!!e.altKey&&!!t.modifiers.meta==!!e.metaKey},handler:t.handler}}function l(r){return function(e){if(e.options_.playbackRates&&Array.isArray(e.options_.playbackRates)){for(var t=0,n=0,o=e.options_.playbackRates.length;n<o;n++)if(e.options_.playbackRates[n]==e.playbackRate()){t=n;break}e.playbackRate(e.options_.playbackRates[t+r])}}}p.on("keydown",function(e){var t,n,o=e.which,r=e.preventDefault,s=p.duration();if(p.controls()){var i=m.activeElement;if(g&&"INPUT"!=i.tagName||i==d||i==d.querySelector(".vjs-tech")||i==d.querySelector(".vjs-control-bar")||i==d.querySelector(".iframeblocker"))switch(T(e,p)){case 1:r(),g&&e.stopPropagation(),p.paused()?p.play():p.pause();break;case 2:t=!p.paused(),r(),t&&p.pause(),(n=p.currentTime()-C(e))<=0&&(n=0),p.currentTime(n),t&&p.play();break;case 3:t=!p.paused(),r(),t&&p.pause(),s<=(n=p.currentTime()+C(e))&&(n=t?s-.001:s),p.currentTime(n),t&&p.play();break;case 5:r(),b?(n=p.currentTime()-1,p.currentTime()<=1&&(n=0),p.currentTime(n)):p.volume(p.volume()-y);break;case 4:r(),b?(s<=(n=p.currentTime()+1)&&(n=s),p.currentTime(n)):p.volume(p.volume()+y);break;case 6:f&&p.muted(!p.muted());break;case 7:v&&(p.isFullscreen()?p.exitFullscreen():p.requestFullscreen());break;default:if((47<o&&o<59||95<o&&o<106)&&(_||!(e.metaKey||e.ctrlKey||e.altKey))&&k){var a=48;95<o&&(a=96);var l=o-a;r(),p.currentTime(p.duration()*l*.1)}for(var c in h.customKeys){var u=h.customKeys[c];u&&u.key&&u.handler&&u.key(e)&&(r(),u.handler(p,h,e))}}}}),p.on("dblclick",function(e){if(p.controls()){var t=e.relatedTarget||e.toElement||m.activeElement;t!=d&&t!=d.querySelector(".vjs-tech")&&t!=d.querySelector(".iframeblocker")||v&&(p.isFullscreen()?p.exitFullscreen():p.requestFullscreen())}}),p.on("mousewheel",i),p.on("DOMMouseScroll",i)}(n,n.options_.hotkey),Q(n),n.changeSouece=V,(t=e=n).on("contextmenu",j.bind(t,ee)),e.on(["touchcancel","touchend"],j.bind(t,G)),e.on("touchmove",j.bind(t,J)),e.on("touchstart",j.bind(t,Z)),e.ready(function(){return t.addClass(X)}),n.on("vjs-contextmenu",function(e){var t=j.dom.createEl("div",{className:"vjs-hidden vjs-contenxtmenu"});j.dom.appendContent(this.el(),t),t.parentNode.removeChild(t)}),n.addClass("video-js"),n.on("mouseleave",function(){n.userActive(!1)}),n.on("playerresize",function(){n.trigger("texttrackchange")}),1==n.options_.isMobile?n.on("ready",function(){!function(t,n){t.addClass("vjs-mobile-ui"),(n.touchControls.disableOnEnd||"function"==typeof t.endscreen)&&t.addClass("vjs-mobile-ui-disable-end"),n.fullscreen.iOS&&j.browser.IS_IOS&&9<j.browser.IOS_VERSION&&!t.el_.ownerDocument.querySelector(".bc-iframe")&&(t.tech_.el_.setAttribute("playsinline","playsinline"),t.tech_.supportsFullScreen=function(){return!1});t.children_.indexOf(t.getChild("ControlBar"));var o=B.screen;o.lockOrientationUniversal=function(e,t){return o.orientation.lock(e).then(function(){t.screenLocked=!0},function(e){return j.log("orientation lock not allowed")})||o.mozLockOrientation(e)||o.msLockOrientation(e)};var r=function(){return"number"==typeof B.orientation?B.orientation:o&&o.orientation&&o.orientation.angle?B.orientation:(j.log("angle unknown"),0)};t.screenLocked=!1;var e=function(){var e=r();90!==e&&270!==e&&-90!==e||!1===t.paused()&&(t.requestFullscreen(),n.fullscreen.lockOnRotate&&o.orientation&&o.orientation.lock&&o.lockOrientationUniversal("landscape",t)),0!==e&&180!==e||t.isFullscreen()&&t.exitFullscreen()};j.browser.IS_IOS?B.addEventListener("orientationchange",e):o.orientation.onchange=e,t.on("fullscreenchange",function(e){!r()&&t.isFullscreen()&&n.fullscreen.lockOnRotate&&o.lockOrientationUniversal("landscape")}),t.on("ended",function(e){!0===t.screenLocked&&(o.orientation.unlock(),t.screenLocked=!1)})}(this,n.options_.touchoverlay)}):(n.on("volumechange",function(){!function(e){try{"number"==typeof e?B.localStorage.setItem(s,e):B.localStorage.removeItem(s)}catch(e){j.log.warn(e)}}(n.muted()?0:n.volume())}),n.one("ready",function(){var e=function(){var e=void 0;try{e=B.localStorage.getItem(s)}catch(e){j.log.warn(e)}return e||(e=1),e}();0==e?n.muted(!0):(n.volume(e),n.muted(!1))}));var o=function(){n.textTrackCustomDisplay.hide()};n.on("texttrackchange",o),n.on("ready",function(){setTimeout(function(){n.off("texttrackchange",o),n.textTrackCustomDisplay.show(),n.trigger("texttrackchange")},400)}),n.one("canplay",function(){var t;!0===n.options_.isMobile&&(n.addClass("mobileMode"),n.controlBar.playToggle.hide(),n.controlBar.volumePanel.volumeControl.hide(),n.volume(1)),!0===n.options_.learnMode&&n.addClass("learnMode"),0<(t=n).options_.continue.time&&(!0===t.options_.continue.isShowMessage?(t.options_.continue.info=j.formatTime(t.options_.continue.time),t.options_.continue.callback=j.bind(t,function(e){!0===t.options_.continue.pauseOnOpen&&t.poster_&&0<t.poster_.length&&(t.posterImage.el().style.display=""),t.currentTime(t.options_.continue.time),t.paused()&&t.play(),t.options_.continue.time=0}),t.options_.continue.callbackCancel=j.bind(t,function(e){!0===t.options_.continue.pauseOnOpen&&t.poster_&&0<t.poster_.length&&(t.posterImage.el().style.display=""),t.paused()&&t.play(),t.options_.continue.time=0}),!0===t.options_.continue.pauseOnOpen&&t.poster_&&0<t.poster_.length&&(t.posterImage.el().style.display="block"),t.currentTime(1),t.trigger("messageLayer",t.options_.continue)):(t.currentTime(t.options_.continue.time),t.options_.continue.time=0))});var r=new U(n);n.getTimeInfo=r.getTimeInfo,n.one("playing",r.setFirstPlaying),n.on("play",r.setPlay),n.on("timeupdate",r.setTimeupdate),n.on(["seeking","ended","pause","waiting"],r.setStop)};j.registerPlugin("learnPlugin",te),te.VERSION="1.0.11"}(window,e)}();